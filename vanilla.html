<!DOCTYPE html>
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <style>
        body {
            display: flex;
            height: 100vh;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            
            background: linear-gradient(123deg,#0089ef 0%,#d4fbff 100%) no-repeat;
            background: linear-gradient(123deg,#fa759e 0%,#ffd7e5 100%) no-repeat;

            background: linear-gradient(234deg,#75fa8b 0%,#48dfd2 100%) no-repeat;
            
        }
    </style>
</head>
<body>

    <button id="sign-in"  class="btn btn-light m-2 hidden" onclick="onClickSignIn()">Sign In</button>
    
    <section id="userinfo" class="card hidden"  style="width: 20rem; text-align: center;">
        <div class="card-body">
            <img src="https://ui.passwordless.id/avatars/finn.svg" style="height: 5rem"/>
            <h1>Nickname</h1>
        </div>
    </section>

    <button id="sign-out" class="btn btn-light m-2 hidden" onclick="onClickSignOut()">Sign Out</button>

    <script type="module">
        import passwordless from './src/index.js'
        
        window.onClickSignIn = () => {
            passwordless.auth({scope:'openid avatar email'})
        }

        async function init() {
            const user = await passwordless.request({scope:'openid avatar email'})
            document.getElementById('output').textContent = JSON.stringify(user, null,' ')
        }

        window.onClickSignOut = async () => {
            const user = await passwordless.logout()
            document.getElementById('output').textContent = ''
        }
    </script>
</body>
</html>